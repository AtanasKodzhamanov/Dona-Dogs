<!DOCTYPE html>
{% extends 'common.html' %}
{% block page_content %}
  {% load static %}
  {% load i18n %}
  {% load shuffle %}
  {% load field_loop %}
  {% get_current_language as L %}
  {% with location="Adoptions" %}
    {% include "subtemplates/noticeboard.html" %}
    {% include "subtemplates/container.html" %}
  {% endwith %}  
  <div class="parent button-hover" id="show-all-dogs-btn">
    <div>
      <h2>{% trans "SEE ALL DOGS AVAILABLE FOR ADOPTION HERE" %}</h2>
    </div>
  </div>
  <br>
  <br>
  <h2>{% trans "PAST ADOPTIONS" %}</h2>
  <hr>
  {% for year in years %}
    <div>
      <div class="parent button-hover adoption-expand-button">
        <div>
          <h2>{{ year }}</h2>
        </div>
      </div>
      {% for dog in data_dogs %}
        {% if dog.fields.status == "Adopted" and dog.fields.adoption_year == year %}
          <div class="parent adoption-card" style="display: none">
            {% if L == "bg" %}
              <h2>{{ dog.fields.name_bg }}</h2>
            {% else %}
              <h2>{{ dog.fields.name_eng }}</h2>
            {% endif %}

            {% if L == "bg" %}
              <h3>{{ dog.fields.adoption_country_bg }}</h3>
            {% else %}
              <h3>{{ dog.fields.adoption_country_eng }}</h3>
            {% endif %}

            {% if dog.fields.adoption_story_eng == "" %}
              <div>
                <p class="container-text">
                  {% if L == "bg" %}
                    {{ dog.fields.story_bg|safe }}
                  {% else %}
                    {{ dog.fields.story_eng|safe }}
                  {% endif %}
                </p>
              </div>
            {% else %}
              <div>
                <p class="container-text">
                  {% if L == "bg" %}
                    {{ dog.fields.adoption_story_bg|safe }}
                  {% else %}
                    {{ dog.fields.adoption_story_eng|safe }}
                  {% endif %}
                </p>
              </div>
            {% endif %}

            <div class="child">
              <img class="main-container-img"
                   decoding="async"
                   lazy-sizes="auto"
                   loading="lazy"
                   src="{{ dog.fields.profile_pic }}"/>
            </div>

            {% for field_name in field_names %}
              {% if dog.fields|field_loop:field_name %}
                <div class="child">
                  <img class="main-container-img"
                      decoding="async"
                      lazy-sizes="auto"
                      loading="lazy"
                      src="{{ dog.fields|field_loop:field_name }}"/>
                </div>
              {% endif %}
            {% endfor %}

          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endfor %}
  <br>
  <script src="{% static 'js/adoptions_expand.js' %}"></script>
  <script src="{% static 'js/gallery_redirect.js' %}"></script>

{% endblock %}
